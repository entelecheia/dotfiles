
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Dotfiles are configuration files that are used to customize your shell and other applications. Dotfiles are a great way to standardize your development environment. You can use the same dotfiles in your local development environment, in your CI/CD pipeline, and in your production environment.">
      
      
        <meta name="author" content="Young Joon Lee <entelecheia@hotmail.com>">
      
      
        <link rel="canonical" href="https://dotfiles.entelecheia.ai/usage/doppler/">
      
      
        <link rel="prev" href="../pass/">
      
      
        <link rel="next" href="../../packages/">
      
      
      <link rel="icon" href="https://assets.entelecheia.ai/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.41">
    
    
      
        <title>Doppler - Dotfiles</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-VMN7QWCMSV"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-VMN7QWCMSV",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-VMN7QWCMSV",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#doppler" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Dotfiles" class="md-header__button md-logo" aria-label="Dotfiles" data-md-component="logo">
      
  <img src="https://assets.entelecheia.ai/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Dotfiles
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Doppler
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/entelecheia/dotfiles" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    entelecheia/dotfiles
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Dotfiles" class="md-nav__button md-logo" aria-label="Dotfiles" data-md-component="logo">
      
  <img src="https://assets.entelecheia.ai/favicon.png" alt="logo">

    </a>
    Dotfiles
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/entelecheia/dotfiles" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    entelecheia/dotfiles
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bootstrap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootstrap
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Usage
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Update
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aliases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aliases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../envs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment Variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dotdrop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dotdrop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dockerfiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dockerfiles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ssh-gpg-age/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSH, GPG, and AGE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SOPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pass/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pass and Passage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Doppler
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Doppler
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#doppler-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Doppler Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Doppler Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-doppler-login" class="md-nav__link">
    <span class="md-ellipsis">
      1. Doppler Login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-project-setup" class="md-nav__link">
    <span class="md-ellipsis">
      2. Project Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-using-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      3. Using Secrets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-removing-env-files" class="md-nav__link">
    <span class="md-ellipsis">
      4. Removing .env Files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#doppler-usage-with-service-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Doppler Usage with Service Tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Doppler Usage with Service Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-service-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Service Tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Service Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    <span class="md-ellipsis">
      CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-service-tokens-with-the-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Using Service Tokens with the CLI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Service Tokens with the CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-persisted-service-token" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Persisted Service Token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-the-doppler_token-environment-variable" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: The DOPPLER_TOKEN environment variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-3-the-token-argument" class="md-nav__link">
    <span class="md-ellipsis">
      Option 3: The --token argument
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ephemeral-service-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Ephemeral Service Tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revoking-service-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Revoking Service Tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revoking Service Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dashboard_1" class="md-nav__link">
    <span class="md-ellipsis">
      Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli_1" class="md-nav__link">
    <span class="md-ellipsis">
      CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Packages
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#doppler-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Doppler Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Doppler Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-doppler-login" class="md-nav__link">
    <span class="md-ellipsis">
      1. Doppler Login
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-project-setup" class="md-nav__link">
    <span class="md-ellipsis">
      2. Project Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-using-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      3. Using Secrets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-removing-env-files" class="md-nav__link">
    <span class="md-ellipsis">
      4. Removing .env Files
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#doppler-usage-with-service-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Doppler Usage with Service Tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Doppler Usage with Service Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-service-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Creating Service Tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Service Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli" class="md-nav__link">
    <span class="md-ellipsis">
      CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-service-tokens-with-the-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Using Service Tokens with the CLI
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using Service Tokens with the CLI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-persisted-service-token" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Persisted Service Token
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-the-doppler_token-environment-variable" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: The DOPPLER_TOKEN environment variable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-3-the-token-argument" class="md-nav__link">
    <span class="md-ellipsis">
      Option 3: The --token argument
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ephemeral-service-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Ephemeral Service Tokens
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revoking-service-tokens" class="md-nav__link">
    <span class="md-ellipsis">
      Revoking Service Tokens
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Revoking Service Tokens">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dashboard_1" class="md-nav__link">
    <span class="md-ellipsis">
      Dashboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli_1" class="md-nav__link">
    <span class="md-ellipsis">
      CLI
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/entelecheia/dotfiles/edit/main/docs/usage/doppler.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/entelecheia/dotfiles/raw/main/docs/usage/doppler.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="doppler">Doppler</h1>
<p>Doppler is a secrets management platform that simplifies secure access to your sensitive information across different environments. In the Dotfiles project, Doppler is automatically installed and configured to provide a seamless integration for managing your secrets.</p>
<h2 id="doppler-usage">Doppler Usage</h2>
<p>To use Doppler with your Dotfiles project, follow these steps:</p>
<h3 id="1-doppler-login">1. <strong>Doppler Login</strong></h3>
<p>To authenticate with Doppler and access your secrets, run the following command in your terminal:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>doppler<span class="w"> </span>login
</span></code></pre></div>
<p>This command will open a browser window where you can authenticate with your Doppler account.</p>
<h3 id="2-project-setup">2. <strong>Project Setup</strong></h3>
<p>To configure Doppler for a specific project in your Dotfiles, navigate to the project's directory and run the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">cd</span><span class="w"> </span>./your/project/directory
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>doppler<span class="w"> </span>setup
</span></code></pre></div>
<p>This command will prompt you to select the project and configuration you want to use with Doppler. You can also pre-configure the Doppler project and config by creating a <code>doppler.yaml</code> file in your project directory.</p>
<h3 id="3-using-secrets">3. <strong>Using Secrets</strong></h3>
<p>To access your secrets as environment variables in your Dotfiles project, run your commands with Doppler's <code>run</code> command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>doppler<span class="w"> </span>run<span class="w"> </span>--<span class="w"> </span>your-command-here
</span></code></pre></div>
<p>This command will fetch the latest version of your secrets for the selected project and configuration and inject them as environment variables into the running process.</p>
<h3 id="4-removing-env-files">4. <strong>Removing .env Files</strong></h3>
<p>To improve security and avoid confusion about the source of truth for your environment variables, remove any application code relying on <code>.env</code> files and delete any <code>.env</code> files that may still exist locally.</p>
<p>By following these steps, you can easily manage and access your secrets securely using Doppler within your Dotfiles project. This integration ensures that your sensitive information is stored securely and is only accessible when needed, making your development environment even more efficient and secure.</p>
<h2 id="doppler-usage-with-service-tokens">Doppler Usage with Service Tokens</h2>
<p>Doppler Service Tokens provide restricted secrets access to applications in live environments. They adhere to the principle of least privilege by ensuring an application only has access to a single config within a project.</p>
<h3 id="requirements">Requirements</h3>
<ul>
<li><a href="https://docs.doppler.com/docs/cli#installation">Doppler CLI</a></li>
<li>Access to the config for a project you wish to provide access to</li>
</ul>
<h3 id="creating-service-tokens">Creating Service Tokens</h3>
<p>You can generate a Service Token using the Doppler dashboard or CLI.</p>
<h4 id="dashboard">Dashboard</h4>
<ol>
<li>Go to the Project and select a Config</li>
<li>Click the <strong>Access</strong> tab.</li>
<li>Click on <strong>Generate Service Token</strong>.</li>
<li>Copy the Service Token as it is only shown once.</li>
</ol>
<h4 id="cli">CLI</h4>
<p>You can also generate a Service Token using the Doppler CLI:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Select the project and config</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>doppler<span class="w"> </span>setup
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1"># Create the Service Token</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>doppler<span class="w"> </span>configs<span class="w"> </span>tokens<span class="w"> </span>create<span class="w"> </span>token-name<span class="w"> </span>--plain
</span></code></pre></div>
<p>Or create the Service Token in a single command by providing the project and config as arguments:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>doppler<span class="w"> </span>configs<span class="w"> </span>tokens<span class="w"> </span>create<span class="w"> </span>--project<span class="w"> </span>your-project<span class="w"> </span>--config<span class="w"> </span>your-config<span class="w"> </span>token-name<span class="w"> </span>--plain
</span></code></pre></div>
<h3 id="using-service-tokens-with-the-cli">Using Service Tokens with the CLI</h3>
<p>There are three ways to configure the Doppler CLI to use the Service Token.</p>
<h4 id="option-1-persisted-service-token">Option 1: Persisted Service Token</h4>
<p>This option is best for Virtual Machines as it restricts which directory secrets can be fetched from and no additional configuration is required once registered (e.g., will persist across machine restarts).</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1"># Prevent configure command being leaked in bash history</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">HISTIGNORE</span><span class="o">=</span><span class="s1">&#39;doppler*&#39;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># Scope to location of application directory</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;dp.st.prd.xxxx&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>doppler<span class="w"> </span>configure<span class="w"> </span><span class="nb">set</span><span class="w"> </span>token<span class="w"> </span>--scope<span class="w"> </span>/usr/src/app
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="c1"># Supply secrets to your application</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="nb">cd</span><span class="w"> </span>/usr/src/app
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>doppler<span class="w"> </span>run<span class="w"> </span>--<span class="w"> </span>your-command-here
</span></code></pre></div>
<p>If refreshing the Service Token, the <code>doppler configure set token</code> will need to be run again with the new Service Token value.</p>
<h4 id="option-2-the-doppler_token-environment-variable">Option 2: The <code>DOPPLER_TOKEN</code> environment variable</h4>
<p>This method best suits environments where a Doppler integration sync isn't possible (e.g., <a href="https://docs.doppler.com/docs/render">Render</a>) or when secrets access to multiple configs are required (e.g., <a href="https://docs.doppler.com/docs/circleci#option-2-service-tokens">CircleCI</a> jobs for staging and production).</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># Prevent command with Service Token being recorded in bash history</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">HISTIGNORE</span><span class="o">=</span><span class="s1">&#39;export DOPPLER_TOKEN*&#39;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">DOPPLER_TOKEN</span><span class="o">=</span><span class="s1">&#39;dp.st.prd.xxxx&#39;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>doppler<span class="w"> </span>run<span class="w"> </span>--<span class="w"> </span>your-command-here
</span></code></pre></div>
<h4 id="option-3-the-token-argument">Option 3: The <code>--token</code> argument</h4>
<p>It's also possible to use the <code>--token</code> option for <code>doppler run</code>:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># Prevent command with Service Token being recorded in bash history</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">HISTIGNORE</span><span class="o">=</span><span class="s1">&#39;doppler run*&#39;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>doppler<span class="w"> </span>run<span class="w"> </span>--token<span class="o">=</span><span class="s1">&#39;dp.st.prd.xxxx&#39;</span><span class="w"> </span>--<span class="w"> </span>your-command-here
</span></code></pre></div>
<h3 id="ephemeral-service-tokens">Ephemeral Service Tokens</h3>
<p>An ephemeral Service Token can be created by setting an expiration time. Once the duration is reached, the token is automatically deleted.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">DOPPLER_TOKEN</span><span class="o">=</span><span class="k">$(</span>doppler<span class="w"> </span>configs<span class="w"> </span>tokens<span class="w"> </span>create<span class="w"> </span>ephemeral-token<span class="w"> </span>--max-age<span class="w"> </span>1m<span class="w"> </span>--plain<span class="k">)</span>
</span></code></pre></div>
<h3 id="revoking-service-tokens">Revoking Service Tokens</h3>
<p>Revoking a Service Token is non-reversible and immediately prevents secrets access.</p>
<h4 id="dashboard_1">Dashboard</h4>
<p>Revoking a Service Token from the Dashboard is performed from the <strong>Access</strong> tab for the Config by clicking <strong>Revoke</strong>.</p>
<h4 id="cli_1">CLI</h4>
<p>Revoking a Service Token from the CLI can be done by executing the following command:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>doppler<span class="w"> </span>configs<span class="w"> </span>tokens<span class="w"> </span>revoke<span class="w"> </span>-p<span class="w"> </span>PROJECT<span class="w"> </span>-c<span class="w"> </span>CONFIG<span class="w"> </span>dp.st.dev.fHhinxK...
</span></code></pre></div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - 2023 Young Joon Lee
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.indexes", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>