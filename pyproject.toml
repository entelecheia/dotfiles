[project]
name = "dotfiles"
version = "0.41.4"
description = "Easily manage and synchronize your dotfiles across multiple environments with the Dotfiles project, streamlining your development setup and CI/CD pipeline."
readme = "README.md"
license = "MIT"
authors = [{ name = "Young Joon Lee", email = "entelecheia@hotmail.com" }]
homepage = "https://dotfiles.entelecheia.ai"
repository = "https://github.com/entelecheia/dotfiles"
requires-python = ">=3.9,<3.13"
package-mode = false
dependencies = []

[tool.uv]
dev-dependencies = ["python-semantic-release>=9.12.0"]

[tool.semantic_release]
# General settings
tag_format = "v{version}"
commit_parser = "angular"
major_on_zero = true
allow_zero_version = true
tag_commit = true
no_git_verify = false
version_source = "tag"
commit_version_number = true
commit_message = "{version}\n\nAutomatically generated by python-semantic-release"

# Version variables
version_toml = ["pyproject.toml:tool.poetry.version"]
version_variables = ["chezmoi/.chezmoidata.yaml:DOTFILES_VERSION"]

# Remote settings
[tool.semantic_release.remote]
name = "origin"
type = "github"
ignore_token_for_push = false
insecure = false

# Changelog settings
[tool.semantic_release.changelog]
insertion_flag = "<!--next-version-placeholder-->"
mode = "update"

# Commit parser options
[tool.semantic_release.commit_parser_options]
allowed_tags = [
  "build",
  "chore",
  "ci",
  "docs",
  "feat",
  "fix",
  "perf",
  "style",
  "refactor",
  "test",
]
minor_tags = ["feat"]
patch_tags = ["fix", "perf"]
default_bump_level = 0

# Branch settings
[tool.semantic_release.branches.main]
match = "(main|master|release)"
prerelease_token = "rc"
prerelease = false

# Commit author settings
[tool.semantic_release.commit_author]
env = "GIT_COMMIT_AUTHOR"
default = "semantic-release <semantic-release>"

# Publish settings
[tool.semantic_release.publish]
dist_glob_patterns = ["dist/*"]
upload_to_vcs_release = false
